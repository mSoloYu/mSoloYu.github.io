define(["jquery","EventUtil"],function(o,e){var r=!0,t=!0,a=function(){return r},v=function(){r=!0},s=function(){r=!1},m={hackCounter:0,performProcessing:function(){o(".cross-layout").hide(),this.hackCounter=0},process:function(){if(this.hackCounter++,null!=this.timeoutId&&clearTimeout(this.timeoutId),1!=this.hackCounter){var o=this;this.timeoutId=setTimeout(function(){o.performProcessing()},600)}},getHackCounter:function(){return this.hackCounter>0}},n=function(r){return r=e.getEvent(r),o("#crossPointer").css({top:"calc("+r.pageY+"px - 0.25rem)",top:"-webkit-calc("+r.pageY+"px - 0.25rem)",left:"-calc("+r.pageX+"px - 0.25rem)",left:"-webkit-calc("+r.pageX+"px - 0.25rem)"}),o("#crossPointerSmall").css({top:"calc("+r.pageY+"px - 0.15rem)",top:"-webkit-calc("+r.pageY+"px - 0.15rem)",left:"-calc("+r.pageX+"px - 0.15rem)",left:"-webkit-calc("+r.pageX+"px - 0.15rem)"}),o(".cross-x").css({"margin-top":""+r.pageY+"px"}),o(".cross-y").css({left:"-calc("+r.pageX+"px - 300vw)",left:"-webkit-calc("+r.pageX+"px - 300vw)",right:"0"}),m.getHackCounter()&&o(".cross-layout").show(),m.process(),e.preventDefault(r),e.stopPropagation(r),!0},c=function(){e.addHandler(document,"mousemove",n),o(".cross-layout").hide()},l=function(r){if(t){c(),o(".nav-clicked").removeClass("nav-clicked"),o(".vr-nav-bottom-layout").removeClass("vr-nav-bottom-layout-overlay"),o(".vr-article").removeAttr("style"),o(".vr-nav-bottom-layout").show(),f();var r=o(".vr-page-current").eq(0);if(!r.hasClass("vr-1"))return e.addHandler(document,"mousemove",n),window.isMobile||o(".cross-layout").show(),o("video").show(),h(),y(r),r.removeClass("vr-page-moveFromBottom").removeClass("vr-page-current"),o("#vrHome").removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"),0}},i=function(e){var r=(o(".vr-page-current").eq(0),o("#menuArticle"));return o(".vr-article-menu").hasClass("vr-page-current")?void f():(document.body.scrollTop=0,o(".vr-page-current").css({position:"fixed"}),o(".vr-nav-bottom-layout").hide(),o(".vr-menu-fake-icon").css({width:"0.79625rem"}),o("#vrMenu2").css({"border-color":"#000"}),o("#vrMenu1").addClass("vr-menu-close-top-effect"),o("#vrMenu3").addClass("vr-menu-close-bottom-effect"),h(),void r.removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"))},d=function(e){s(),o(".vr-nav-bottom-layout").addClass("vr-nav-bottom-layout-overlay"),document.body.scrollTop=0,o(".nav-clicked").removeClass("nav-clicked"),o("#aboutUs").addClass("nav-clicked");var e=o(".vr-page-current").eq(0);e.hasClass("vr-aboutus")||(y(e),o(".cross-layout").hide(),h(o("#aboutUs")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrAboutUs").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o("h2","#vrAboutUs .vr-article-content").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},1e3),setTimeout(function(){o("p","#vrAboutUs .vr-article-content").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom"),v()},1500))},u=function(e){s(),o(".vr-nav-bottom-layout").addClass("vr-nav-bottom-layout-overlay"),o(".nav-clicked").removeClass("nav-clicked"),o("#service").addClass("nav-clicked");var e=o(".vr-page-current").eq(0);e.hasClass("vr-service")||(y(e),o("body").addClass("service-bg"),o(".cross-layout").hide(),h(o("#service")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrService").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".vr-article-content","#vrService").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom"),v()},800))},p=function(e){s(),o("#vrInteam").hide(),document.body.scrollTop=0,o(".vr-nav-bottom-layout").addClass("vr-nav-bottom-layout-overlay"),o(".nav-clicked").removeClass("nav-clicked"),o("#incubator").addClass("nav-clicked");var e=o(".vr-page-current").eq(0);e.hasClass("vr-incubator")||(y(e),o("body").addClass("scroll--hack"),o(".cross-layout").hide(),h(o("#incubator")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrIncubator").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".incubator-addr").addClass("vr-circle-animation-effect"),o(".incubator-content","#vrIncubator").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},500),setTimeout(function(){o("div",".incubator-addr").removeClass("move-from-bottom--init").addClass("vr-item-moveFromBottom"),v()},2e3))},g=function(e){s(),document.body.scrollTop=0,o(".vr-nav-bottom-layout").addClass("vr-nav-bottom-layout-overlay"),o(".nav-clicked").removeClass("nav-clicked"),o("#vrnews").addClass("nav-clicked");var e=o(".vr-page-current").eq(0);e.hasClass("vr-news")||(y(e),o("body").addClass("service-bg"),o(".cross-layout").hide(),h(o("#vrnews")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrNews").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".vr-article-content","#vrNews").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom"),v()},800))},C=function(e){s(),o("#vrInteam").show(),document.body.scrollTop=0,o(".vr-nav-bottom-layout").addClass("vr-nav-bottom-layout-overlay"),o(".nav-clicked").removeClass("nav-clicked"),o("#inTeam").addClass("nav-clicked");var e=o(".vr-page-current").eq(0);e.hasClass("vr-inteam")||(y(e),o("body").addClass("scroll--hack"),o(".cross-layout").hide(),h(o("#inTeam")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrInteam").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".incubator-addr").addClass("vr-circle-animation-effect"),o(".incubator-content","#vrInteam").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},800),setTimeout(function(){o("div",".incubator-addr").removeClass("move-from-bottom--init").addClass("vr-item-moveFromBottom"),v()},2e3))},f=function(){var e=o("#menuArticle");o("#vrMenu1").addClass("vr-menu-close-ntop-effect"),o("#vrMenu3").addClass("vr-menu-close-nbottom-effect"),e.removeClass("vr-page-moveFromBottom").addClass("vr-page-moveToBottom").removeClass("vr-page-current"),o(".vr-menu-fake-icon").removeAttr("style"),setTimeout(function(){o("#vrMenu2").removeAttr("style"),e.removeClass("vr-page-moveToBottom vr-page-moveFromTop"),o("#vrMenu1").removeClass("vr-menu-close-top-effect vr-menu-close-ntop-effect"),o("#vrMenu3").removeClass("vr-menu-close-bottom-effect vr-menu-close-nbottom-effect")},400)},b=function(){e.removeHandler(document,"mousemove",n)},T=function(){var r=document.getElementById("menuArticle");e.addHandler(r,"click",function(r){r=e.getEvent(r);var a=e.getTarget(r);switch($current=o(".vr-page-current").eq(0),a.id){case"menuPartner":t=!1,f(),$logoAnimation=o(".vr-logo-animation-layout"),$logoAnimation.removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"),o(".vr-logo-animation",$logoAnimation).addClass("vr-circle-right-animation-effect"),o(".vr-menu-article").toggle(),setTimeout(function(){$logoAnimation.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),y($current),o(".cross-layout").hide(),$current.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrPartner").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),o(".vr-logo-animation",$logoAnimation).removeClass("vr-circle-right-animation-effect"),t=!0},2e3);break;case"menuCall":t=!1,f(),$logoAnimation=o(".vr-logo-animation-layout"),$logoAnimation.removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"),o(".vr-logo-animation",$logoAnimation).addClass("vr-circle-right-animation-effect"),o(".vr-menu-article").toggle(),setTimeout(function(){$logoAnimation.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),y($current),o(".cross-layout").hide(),$current.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrContact").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),o(".vr-logo-animation",$logoAnimation).removeClass("vr-circle-right-animation-effect"),t=!0},3e3)}})},y=function(e){e.removeClass("vr-page-moveFromBottom vr-page-moveToTop"),o("body").removeClass("service-bg scroll--hack"),o(".vr-article-content","#vrNews").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o(".vr-article-content","#vrService").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o(".incubator-content","#vrIncubator").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o("h2","#vrAboutUs .vr-article-content").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o("p","#vrAboutUs .vr-article-content").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o(".incubator-addr").removeClass("vr-circle-animation-effect"),o("div",".incubator-addr").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom")},h=function(e){e?(o("video").hide(),o("a span",e.parent()).removeAttr("style"),o("span:first",e).css({opacity:"0.67"}),o(".nav-bottom-text",e).css({color:"#fff"})):o("a span",".vr-nav-bottom-layout").removeAttr("style")},F=function(){var e=o(".vr-menu-article"),r=o(".vr-menu-close");r.click(function(o){e.toggle()})};return{initMenu:T,initCross:c,initEvent:F,removeCrossHandler:b,gotoHome:l,gotoMenu:i,gotoAboutUs:d,gotoService:u,gotoIncubator:p,gotoVrNews:g,gotoInTeam:C,getPageReady:a,enablePageReady:v,disablePageReady:s}});