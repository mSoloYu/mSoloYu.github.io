define(["jquery","EventUtil"],function(o,e){var r={timeoutId:null,performProcessing:function(){o(".cross-layout").hide()},process:function(){clearTimeout(this.timeoutId);var o=this;this.timeoutId=setTimeout(function(){o.performProcessing()},1e3)}},t=function(t){t=e.getEvent(t),o("#crossPointer").css({top:"calc("+t.pageY+"px - 0.25rem)",top:"-webkit-calc("+t.pageY+"px - 0.25rem)",left:"-calc("+t.pageX+"px - 0.25rem)",left:"-webkit-calc("+t.pageX+"px - 0.25rem)"}),o("#crossPointerSmall").css({top:"calc("+t.pageY+"px - 0.15rem)",top:"-webkit-calc("+t.pageY+"px - 0.15rem)",left:"-calc("+t.pageX+"px - 0.15rem)",left:"-webkit-calc("+t.pageX+"px - 0.15rem)"}),o(".cross-x").css({"margin-top":""+t.pageY+"px"});-window.innerWidth+t.pageX;o(".cross-y").css({left:"-calc("+t.pageX+"px - 300vw)",left:"-webkit-calc("+t.pageX+"px - 300vw)",right:"0"}),o(".cross-layout").show(),r.process()},a=function(){e.addHandler(document,"mousemove",t),o(".cross-layout").hide()},m=function(r){var r=o(".vr-page-current").eq(0);if(!r.hasClass("vr-1"))return e.addHandler(document,"mousemove",t),window.isMobile||o(".cross-layout").show(),o("video").show(),C(),g(r),r.removeClass("vr-page-moveFromBottom").addClass("vr-page-moveToBottom").removeClass("vr-page-current"),o("#vrHome").removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"),0},v=function(e){var r=(o(".vr-page-current").eq(0),o("#menuArticle"));return o(".vr-article-menu").hasClass("vr-page-current")?void u():(o(".vr-menu-fake-icon").css({width:"0.79625rem"}),o("#vrMenu2").css({"border-color":"#000"}),o("#vrMenu1").addClass("vr-menu-close-top-effect"),o("#vrMenu3").addClass("vr-menu-close-bottom-effect"),C(),void r.removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"))},s=function(e){document.body.scrollTop=0;var e=o(".vr-page-current").eq(0);e.hasClass("vr-aboutus")||(g(e),o(".cross-layout").hide(),C(o("#aboutUs")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrAboutUs").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o("h2","#vrAboutUs .vr-article-content").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},1e3),setTimeout(function(){o("p","#vrAboutUs .vr-article-content").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},1500))},n=function(e){var e=o(".vr-page-current").eq(0);e.hasClass("vr-service")||(g(e),o("body").addClass("service-bg"),o(".cross-layout").hide(),C(o("#service")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrService").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".vr-article-content","#vrService").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},800))},i=function(e){document.body.scrollTop=0;var e=o(".vr-page-current").eq(0);e.hasClass("vr-incubator")||(g(e),o("body").addClass("scroll--hack"),o(".cross-layout").hide(),C(o("#incubator")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrIncubator").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".incubator-addr").addClass("vr-circle-animation-effect"),o(".incubator-content","#vrIncubator").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},500),setTimeout(function(){o("div",".incubator-addr").removeClass("move-from-bottom--init").addClass("vr-item-moveFromBottom")},2e3))},c=function(e){document.body.scrollTop=0;var e=o(".vr-page-current").eq(0);e.hasClass("vr-service")||(g(e),o("body").addClass("service-bg"),o(".cross-layout").hide(),C(o("#vrnews")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrNews").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".vr-article-content","#vrNews").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},800))},l=function(e){document.body.scrollTop=0;var e=o(".vr-page-current").eq(0);e.hasClass("vr-inteam")||(g(e),o("body").addClass("scroll--hack"),o(".cross-layout").hide(),C(o("#inTeam")),e.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrInteam").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),setTimeout(function(){o(".incubator-addr").addClass("vr-circle-animation-effect"),o(".incubator-content","#vrInteam").removeClass("vr-item-moveFromBottom move-from-bottom--init").addClass("vr-item-moveFromBottom")},800),setTimeout(function(){o("div",".incubator-addr").removeClass("move-from-bottom--init").addClass("vr-item-moveFromBottom")},2e3))},u=function(){var e=o("#menuArticle");o("#vrMenu1").addClass("vr-menu-close-ntop-effect"),o("#vrMenu3").addClass("vr-menu-close-nbottom-effect"),e.removeClass("vr-page-moveFromBottom").addClass("vr-page-moveToBottom").removeClass("vr-page-current"),o(".vr-menu-fake-icon").removeAttr("style"),setTimeout(function(){o("#vrMenu2").removeAttr("style"),e.removeClass("vr-page-moveToBottom vr-page-moveFromTop"),o("#vrMenu1").removeClass("vr-menu-close-top-effect vr-menu-close-ntop-effect"),o("#vrMenu3").removeClass("vr-menu-close-bottom-effect vr-menu-close-nbottom-effect")},400)},d=function(){e.removeHandler(document,"mousemove",t)},p=function(){var r=document.getElementById("menuArticle");e.addHandler(r,"click",function(r){r=e.getEvent(r);var t=e.getTarget(r);switch($current=o(".vr-page-current").eq(0),t.id){case"menuPartner":u(),$logoAnimation=o(".vr-logo-animation-layout"),$logoAnimation.removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"),o(".vr-logo-animation",$logoAnimation).addClass("vr-circle-right-animation-effect"),o(".vr-menu-article").toggle(),setTimeout(function(){$logoAnimation.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),g($current),o(".cross-layout").hide(),$current.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrPartner").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),o(".vr-logo-animation",$logoAnimation).removeClass("vr-circle-right-animation-effect")},2e3);break;case"menuCall":u(),$logoAnimation=o(".vr-logo-animation-layout"),$logoAnimation.removeClass("vr-page-moveToTop").addClass("vr-page-current vr-page-moveFromTop"),o(".vr-logo-animation",$logoAnimation).addClass("vr-circle-right-animation-effect"),o(".vr-menu-article").toggle(),setTimeout(function(){$logoAnimation.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),g($current),o(".cross-layout").hide(),$current.removeClass("vr-page-moveFromTop").addClass("vr-page-moveToTop").removeClass("vr-page-current"),o("#vrContact").removeClass("vr-page-moveToBottom").addClass("vr-page-current vr-page-moveFromBottom"),o(".vr-logo-animation",$logoAnimation).removeClass("vr-circle-right-animation-effect")},3e3)}})},g=function(e){e.removeClass("vr-page-moveFromBottom vr-page-moveToTop"),o("body").removeClass("service-bg scroll--hack"),o(".vr-article-content","#vrNews").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o(".vr-article-content","#vrService").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o(".incubator-content","#vrIncubator").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o("h2","#vrAboutUs .vr-article-content").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o("p","#vrAboutUs .vr-article-content").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom"),o(".incubator-addr").removeClass("vr-circle-animation-effect"),o("div",".incubator-addr").addClass("move-from-bottom--init").removeClass("vr-item-moveFromBottom")},C=function(e){e?(o("video").hide(),o("a span",e.parent()).removeAttr("style"),o("span:first",e).css({opacity:"0.67"}),o(".nav-bottom-text",e).css({color:"#fff"})):o("a span",".vr-nav-bottom-layout").removeAttr("style")},f=function(){var e=o(".vr-menu-article"),r=o(".vr-menu-close");r.click(function(o){e.toggle()})};return{initMenu:p,initCross:a,initEvent:f,removeCrossHandler:d,gotoHome:m,gotoMenu:v,gotoAboutUs:s,gotoService:n,gotoIncubator:i,gotoVrNews:c,gotoInTeam:l}});